# This file is maintained by Puppet.
# DO NOT EDIT

Director {
  Name = <%= @dirserver %>
  Password = "<%= @passwordclient %>"
}

#
# "Global" File daemon configuration specifications
FileDaemon {                          # this is me
  Name = <%= @fqdn %>
  FDport = <%= @fdport %>                  # where we listen for the director
  WorkingDirectory = "<%= @workingDirectory %>"
  PidDirectory = "<%= @pidDirectory %>"
  Maximum Concurrent Jobs = <%= @maximumConcurrentJobs %>

}

# List of files to be backed up
FileSet {
  Name = "<%= @hostname %>"
  Include {
    Options {
      signature = <%= @signature %>
      compression = <%= @compression %>
    }
    
    <% [@filesBackup].flatten.each do |filesinclude| -%>
		File = <%= filesinclude %>
	<% end -%>
    
  }

  Exclude {
   <% [@excludeBackup].flatten.each do |filesexclude| -%>
		File = <%= filesexclude %>
	<% end -%>

  }
}

# Send all messages except skipped files back to Director
Messages {
  Name = Standard
  mail = rafael@tomelin.eti.br = all, !skipped
  director = bacula-dir = all, !skipped, !restored
}



